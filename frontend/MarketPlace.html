<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Market Place</title>
  <link rel="stylesheet" href="MarketPlacestyle.css" />
</head>
<body class="MarketPlace-page">
  <div id="navbar-placeholder"></div>

  <div class="container">
    <h2>Market Place</h2>
    <div class="marketplace-list"><!-- cards injected by MarketPlace.js --></div>
  </div>

  <!-- Offer Popup -->
  <div id="offer-popup" class="fluid-popup-bg" style="display:none;">
    <div class="fluid-popup-content">
      <button class="close-btn" type="button" onclick="window.closeOfferPopup()" aria-label="Close">Ã—</button>
      <h3>Send Offer</h3>
      <form id="offer-form" class="form-grid">
        <div class="field">
          <label for="supplierName">Supplier / Company</label>
          <input id="supplierName" name="supplierName" type="text" readonly />
        </div>
        <div class="field">
          <label for="location">Location / Address</label>
          <input id="location" name="location" type="text" readonly />
        </div>
        <div class="field">
          <label for="price">Offer Price</label>
          <input id="price" name="price" type="number" min="0" step="0.01" required />
        </div>
        <div class="field">
          <label for="details">Details</label>
          <input id="details" name="details" type="text" maxlength="140" required />
        </div>
        <div class="field">
          <label for="paymentMethod">Payment Method</label>
          <div class="select-wrap">
            <select id="paymentMethod" name="paymentMethod" required>
              <option value="" disabled selected>Select method</option>
              <option value="UPI">UPI</option>
              <option value="Bank Transfer">Bank Transfer (NEFT/RTGS)</option>
              <option value="COD">Cash on Delivery</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label for="paymentTerms">Payment Terms</label>
          <div class="select-wrap">
            <select id="paymentTerms" name="paymentTerms" required>
              <option value="" disabled selected>Select terms</option>
              <option value="Advance 100%">Advance 100%</option>
              <option value="Advance 50%">Advance 50%</option>
              <option value="Net 7">Net 7</option>
              <option value="Net 15">Net 15</option>
              <option value="Net 30">Net 30</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label for="deliveryMethod">Delivery Method</label>
          <div class="select-wrap">
            <select id="deliveryMethod" name="deliveryMethod" required>
              <option value="" disabled selected>Select delivery</option>
              <option value="Courier">Courier</option>
              <option value="Freight">Freight</option>
              <option value="Self Pickup">Self Pickup</option>
              <option value="3PL">3rd-Party Logistics</option>
            </select>
          </div>
        </div>
        <div class="field">
          <label for="deliveryDays">Delivery in (days)</label>
          <input id="deliveryDays" name="deliveryDays" type="number" min="1" required />
        </div>
        <div class="field full">
          <button type="submit" class="pill-btn">Send Offer</button>
        </div>
      </form>
    </div>
  </div>

  <script type="module">
    import { loadNavbar } from '../backend/navbar.js';
    loadNavbar();
  </script>
  <script type="module" src="../backend/MarketPlace.js"></script>
  <script type="module" src="../backend/notifications-listener.js"></script>
  <script type="module" src="../backend/offers-badge-listener.js"></script>
</body>
</html>